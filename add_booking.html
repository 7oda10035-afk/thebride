{% extends "base.html" %}

{% block title %}Ø¥Ø¶Ø§ÙØ© Ø­Ø¬Ø² Ø¬Ø¯ÙŠØ¯{% endblock %}

{% block content %}
<h1 style="color: #8B4513; margin-bottom: 30px;">ğŸ“ Ø¥Ø¶Ø§ÙØ© Ø­Ø¬Ø² Ø¬Ø¯ÙŠØ¯</h1>

<div class="form-container">
    <form method="POST">
        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px;">
            <div class="form-group">
                <label>Ø§Ø®ØªØ± Ø§Ù„ÙØ³ØªØ§Ù† *</label>
                <select name="dress_id" required>
                    <option value="">-- Ø§Ø®ØªØ± ÙØ³ØªØ§Ù† --</option>
                    {% for dress in dresses %}
                    <option value="{{ dress.id }}" {% if request.args.get('dress_id')|int == dress.id %}selected{% endif %}>
                        {{ dress.dress_number }} - {{ dress.model_name }} ({{ dress.rental_price }} Ø±ÙŠØ§Ù„)
                    </option>
                    {% endfor %}
                </select>
            </div>
            
            <div class="form-group">
                <label>Ø§Ø³Ù… Ø§Ù„Ø¹Ù…ÙŠÙ„ *</label>
                <input type="text" name="customer_name" required>
            </div>
            
            <div class="form-group">
                <label>Ø±Ù‚Ù… Ø§Ù„Ù‡Ø§ØªÙ</label>
                <input type="text" name="customer_phone">
            </div>
            
            <div class="form-group">
                <label>Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ</label>
                <input type="email" name="customer_email">
            </div>
            
            <div class="form-group">
                <label>ØªØ§Ø±ÙŠØ® Ø§Ù„Ø­Ø¬Ø² *</label>
                <input type="date" name="booking_date" required value="{{ now.strftime('%Y-%m-%d') }}">
            </div>
            
            <div class="form-group">
                <label>ØªØ§Ø±ÙŠØ® Ø§Ù„Ø¥Ø±Ø¬Ø§Ø¹</label>
                <input type="date" name="return_date">
            </div>
            
            <div class="form-group">
                <label>Ø§Ù„Ø³Ø¹Ø± Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠ (Ø±ÙŠØ§Ù„)</label>
                <input type="number" name="total_price" step="0.01" value="0">
            </div>
            
            <div class="form-group">
                <label>Ø§Ù„Ù…Ø¨Ù„Øº Ø§Ù„Ù…Ø¯ÙÙˆØ¹ (Ø±ÙŠØ§Ù„)</label>
                <input type="number" name="deposit_paid" step="0.01" value="0">
            </div>
        </div>
        
        <div class="form-group">
            <label>Ù…Ù„Ø§Ø­Ø¸Ø§Øª</label>
            <textarea name="notes" rows="3" placeholder="Ø£ÙŠ Ù…Ù„Ø§Ø­Ø¸Ø§Øª Ø­ÙˆÙ„ Ø§Ù„Ø­Ø¬Ø²..."></textarea>
        </div>
        
        <div style="text-align: center; margin-top: 30px;">
            <button type="submit" class="btn btn-primary" style="padding: 12px 30px;">ğŸ’¾ Ø­ÙØ¸ Ø§Ù„Ø­Ø¬Ø²</button>
            <a href="{{ url_for('bookings_list') }}" class="btn" 
               style="background: #6c757d; color: white; padding: 12px 30px; margin-right: 10px;">Ø¥Ù„ØºØ§Ø¡</a>
        </div>
    </form>
</div>

<script>
// ØªØ¹ÙŠÙŠÙ† Ø§Ù„Ø­Ø¯ Ø§Ù„Ø£Ø¯Ù†Ù‰ Ù„Ù„ØªØ§Ø±ÙŠØ® Ù‡Ùˆ Ø§Ù„ÙŠÙˆÙ…
const today = new Date().toISOString().split('T')[0];
document.querySelector('input[name="booking_date"]').min = today;
document.querySelector('input[name="return_date"]').min = today;
</script>
{% endblock %}
